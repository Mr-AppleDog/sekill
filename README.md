这是一个秒杀系统

完成第一版秒杀一些数据和问题：

使用jmeter测试 QPS为1200 左右

出现的问题是：设置秒杀库存为50个，秒杀结束后 秒杀库存为-25，订单表中出现400条数据

出现问题原因:

```plaintext
初始库存: 50
↓
线程1: 检查库存 → 50>0 ✔️
线程2: 检查库存 → 50>0 ✔️
...
线程50: 检查库存 → 50>0 ✔️
线程51: 检查库存 → 50>0 ✔️  ← 本应失败却成功
...
线程10000: 检查库存 → 50>0 ✔️  ← 全部通过检查
```

```plaintext
时间线 →
线程1: 读库存(50) → 算49 → 准备写入
线程2: 读库存(50) → 算49 → 准备写入
线程3: 读库存(50) → 算49 → 准备写入
...
线程50: 读库存(50) → 算49 → 准备写入
线程51: 读库存(50) → 算49 → 准备写入
...
线程10000: 读库存(可能已被改为45) → 算44 → 准备写入

(写入阶段)
线程1写入: 49
线程2写入: 49 (覆盖线程1结果)
线程3写入: 49 (再次覆盖)
...
线程50写入: 49
线程51写入: 48
...
线程100写入: 40
...
线程500写入: -50
...
线程10000写入: -9950 (理论极值)
```

```plaintext
实际库存: -25 (你的案例结果)
↓
为什么是-25?
因为大约有75个请求成功扣减了库存: 50 - 75 = -25

订单数量: 400+条
↓
这400多个请求都:
1. 通过了初始库存检查
2. 成功执行了扣减操作(基于旧值计算)
3. 生成了订单记录
```

```plaintext
并发请求数 → 问题严重性
   100 → 库存少量负数
  1000 → 库存明显负数
 10000 → 库存严重负数(-25说明约有75个请求成功)
```

这是一个可以快速开发springboot+vue 的项目基本模板（简化了若依）

------

当前项目环境

| 名称    | 版本     |
| ------- | -------- |
| node.js | v16.13.1 |
| JDK     | 17       |
| mysql   | 8.0.37   |
| reids   | 3.2.100  |

包含功能

- [x] 用户管理
- [x] 角色管理
- [x] 菜单管理
- [x] 登录
- [x] 集成SpringSecurity

未完成

- [ ] 部门管理
- [ ] 字典管理
- [ ] 接口权限判读
- [ ] 退出
